(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[916],{5916:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t(5893),u=t(1253),c=t(6156),s=t(7757),a=t.n(s),i=t(2137),o=t(7329),l=t(7294),f=t(1163),p=t(5723),d=t(5706),m={menu:{},generalData:{}},g={},h=function(){var e=(0,i.Z)(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/data/global".concat(t));case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),b={menu:function(e){return h(e,"/menu")},generalData:function(e){return h(e,"/general")}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"generalData",n=(0,l.useState)(g[e]),t=n[0],r=(0,f.useRouter)(),u=r||{},c=u.query,s=(0,l.useMemo)((function(){return t||!c?null:"site-data-".concat(e)}),[e,c,t]),o=(0,l.useCallback)((0,i.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=b[e]||null)){n.next=7;break}return n.next=4,t(c);case 4:n.t0=n.sent,n.next=8;break;case 7:n.t0=null;case 8:return n.abrupt("return",n.t0);case 9:case"end":return n.stop()}}),n)}))),[c,e]),h=(0,p.ZP)(s,o,d.J),v=h.data;return(0,l.useEffect)((function(){e&&v&&(g[e]=v)}),[e,v]),(0,l.useMemo)((function(){return v||t||m[e]}),[v,t,e])},k=t(7021),M=t(6736),x=t(9231),_=t(8303),C=t(7993),w=t(8055),O=[{name:"Home",block:x.Z,description:"",slug:"/"},{name:"Destinations",block:_.Z,description:"Our<br>destinations",slug:"/destinations"},{name:"About",block:C.Z,description:"More<br>about us",slug:"/about"},{name:"Contact",block:w.Z,description:"Get<br>in contact",slug:"/contact"}],j=t(5137),y=t(1041),E=t(1713),Z=t(4494),L=t(5049),P=function(e){return{getOpenMenu:function(){return e.app.openMenu},getLogoClick:function(){return e.app.logoClick},getMenuTheme:function(){return e.app.menuTheme}}},R={setOpenMenu:L.Mw,setLogoClick:L.M4,setMenuTheme:L.Kr,setIntroDone:L.AO,setMenuScroll:L.NF,setIsMenuTransition:L.Od},A=function(e){return(0,Z.$j)(P,R)(e)},S=t(2779),N=t.n(S);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var I=function(e){for(var n=-1,t=0;t<O.length;t++){e===O[t].slug&&(n=t)}return n},B=(0,l.forwardRef)((function(e,n){var t=e.name,c=(e.routesList,e.slug),s=e.closeMenuAnimation,o=e.index,f=e.clickedPageIndex,p=e.cloneWrapperlist,d=e.cloneContentList,m=e.block,g=e.isMenuClosed,h=e.preview,b=(0,u.Z)(e,["name","routesList","slug","closeMenuAnimation","index","clickedPageIndex","cloneWrapperlist","cloneContentList","block","isMenuClosed","preview"]),v=m,k=(0,l.useState)(!1),M=k[0],x=k[1],_=(0,l.useCallback)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,(0,y.g)(100);case 3:x(!1);case 4:case"end":return e.stop()}}),e)}))),[]),C=(0,l.useMemo)((function(){return h?"".concat(c,"?preview=true"):c}),[h,c]);return(0,r.jsx)("li",{className:N().route,ref:n,children:(0,r.jsx)(E.Z,{page:C,children:(0,r.jsxs)("a",{className:N().link,onClick:function(){return s(o)},onMouseEnter:function(){return!M&&_()},tabIndex:g?-1:0,children:[(0,r.jsx)("div",{className:(0,j.Ez)(N().cloneWrapper,f===o&&N().active,M&&N().isHovered),ref:function(e){(0,j.UH)(e,p.current)},children:(0,r.jsx)("div",{className:N().clone,children:(0,r.jsx)("div",{className:N().content,ref:function(e){(0,j.UH)(e,d.current)},children:(0,r.jsx)(v,D({isMenuBlock:!0},b))})})}),(0,r.jsx)("div",{className:(0,j.Ez)(N().name,!g&&N().visible),children:t})]})})})})),H=A((function(e){var n=e.getOpenMenu,t=e.getLogoClick,u=e.getMenuTheme,c=e.setLogoClick,s=e.setOpenMenu,p=e.setMenuTheme,d=e.setIntroDone,m=e.setMenuScroll,g=e.setIsMenuTransition,h=(0,f.useRouter)(),b=h.pathname,x=h.query,_=u(),C=(_||{}).right,w=n(),E=t(),Z=(0,l.useState)(I(b)),L=Z[0],P=Z[1],R=(0,l.useRef)([]),A=(0,l.useRef)([]),S=(0,l.useRef)([]),T=(0,l.useRef)(),H=(0,l.useState)(!1),W=H[0],U=H[1],q=(0,l.useState)(!1),z=q[0],F=q[1],G=(0,l.useState)(!0),Q=G[0],J=G[1],K=(0,l.useState)(!1),V=K[0],Y=K[1],$=(0,l.useState)(L),X=$[0],ee=$[1],ne=(0,k.Z)().width,te=(0,l.useRef)(),re=v("menu"),ue=(0,l.useMemo)((function(){return 0!==Object.keys(x).length&&"true"===x.preview}),[x]),ce=(0,l.useMemo)((function(){var e;return 0===Object.entries(re).length?[]:null===re||void 0===re||null===(e=re.fields)||void 0===e?void 0:e.routes}),[re]),se=(0,l.useCallback)((function(){var e=S.current.map((function(e){return e.firstElementChild.getBoundingClientRect().height}));return parseInt(Math.min.apply(Math,(0,o.Z)(e)))}),[]),ae=(0,l.useCallback)((0,i.Z)(a().mark((function e(){var n,t,r,u,c,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<S.current.length;n++)t=S.current[n],A.current[n].removeAttribute("style"),t.removeAttribute("style"),r=R.current[n].getBoundingClientRect(),u=r.width,c=Math.min(u/ne),s=se(),te.current!==s&&(te.current=s),Object.assign(A.current[n].firstElementChild.style,{transform:"scale(".concat(c,")")});for(i=0;i<S.current.length;i++)A.current[i].removeAttribute("style"),A.current[i].style.height="".concat(te.current,"px");Y(!0);case 3:case"end":return e.stop()}}),e)}))),[ne,se]),ie=(0,l.useCallback)((function(e){var n=R.current[e].getBoundingClientRect(),t=n.top,r=n.left;Object.assign(A.current[e].firstElementChild.style,{transform:"translate(".concat(-1*r,"px, ").concat(-1*t,"px)")})}),[]),oe=(0,l.useCallback)((0,i.Z)(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:return ie(0),e.next=5,(0,y.g)(600);case 5:if(n=R.current[0].getBoundingClientRect(),t=n.width,r=Math.min(t/ne),Object.assign(A.current[0].firstElementChild.style,{transform:"translate(0px, 0px) scale(".concat(r,")")}),U(!0),0===L){e.next=11;break}return e.abrupt("return");case 11:ie(0);case 12:case"end":return e.stop()}}),e)}))),[ie,L,W,ne]),le=(0,l.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!E&&g(!0),p(D(D({},_),{},{left:"dark"})),F(!0),e.next=5,(0,y.g)(200);case 5:return ee(n),ie(n),e.next=9,(0,y.g)(1e3);case 9:return s(!1),P(n),J(!0),(0,M.b)(),F(!1),e.next=16,(0,y.g)(300);case 16:g(!1);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[p,s,ie,ee,J,_,g,E]),fe=(0,l.useCallback)((0,i.Z)(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),p({left:"light",right:C}),(0,M.b)("hidden"),J(!1),!(L<0)){e.next=6;break}return e.abrupt("return");case 6:n=R.current[L].getBoundingClientRect(),t=n.width,r=Math.min(t/ne),Object.assign(A.current[L].firstElementChild.style,{transform:"translate(0px, 0px) scale(".concat(r,")")});case 9:case"end":return e.stop()}}),e)}))),[p,C,L,ne,d]);(0,l.useEffect)((function(){(w||E)&&(E&&le(0),c(!1))}),[E,w,le,c]),(0,l.useEffect)((function(){ae(),oe(),L<0||ie(L)}),[ae,L,ie,oe]),(0,l.useEffect)((function(){w&&fe()}),[fe,w]),(0,l.useEffect)((function(){w||(P(I(b)),ee(I(b)))}),[b,w]);var pe=(0,l.useCallback)((function(e){m(e.target.scrollTop)}),[m]);return(0,l.useEffect)((function(){w&&T.current.addEventListener("scroll",pe)}),[pe,w]),(0,l.useEffect)((function(){var e=T.current;return function(){m(0),e.removeEventListener("scroll",pe)}}),[]),(0,r.jsx)("div",{className:(0,j.Ez)(N().container,Q&&N().hidden,V&&N().hasTransition,z&&N().isAnimating),ref:T,children:(0,r.jsx)("ul",{className:N().routesList,children:O.map((function(e,n){var t=e||{},u=t.name,c=t.block,s=t.slug,a=ce[n]||{};return(0,r.jsx)(B,D({name:u,isMenuClosed:Q,routesList:R,slug:s,closeMenuAnimation:le,index:n,clickedPageIndex:X,cloneWrapperlist:A,cloneContentList:S,block:c,preview:ue,ref:function(e){(0,j.UH)(e,R.current)}},a),n)}))})})}))},2779:function(e){e.exports={container:"Menu_container__34_1-",hidden:"Menu_hidden__2n1QA",hasTransition:"Menu_hasTransition__MiO4j",clone:"Menu_clone__21at6",isAnimating:"Menu_isAnimating__1OCxV",routesList:"Menu_routesList__3oBU_",route:"Menu_route__2cpPQ",cloneWrapper:"Menu_cloneWrapper__1M67k",active:"Menu_active__12mF3",isHovered:"Menu_isHovered__2qkBC",content:"Menu_content__17Q4G",name:"Menu_name__2WGOx",visible:"Menu_visible__3hFdY",link:"Menu_link__6Uk8q"}}}]);