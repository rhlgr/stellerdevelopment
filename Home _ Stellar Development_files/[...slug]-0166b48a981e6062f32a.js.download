(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{8692:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return M},default:function(){return R}});var r=t(5893),i=t(6156),o=t(7294),s=t(4494),a=t(5152),l=t(7329),u=t(2828);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.useMemo)((function(){var n=-1;return(e.layoutBlock||[]).reduce((function(e,t){var r,o=t.fields,s=null===o||void 0===o?void 0:o.image,a=(null===o||void 0===o?void 0:o.popups)||(null===o||void 0===o?void 0:o.popup),c=null===o||void 0===o?void 0:o.floorPlans,f=(null===o||void 0===o?void 0:o.images)||(null===o||void 0===o||null===(r=o.slides)||void 0===r?void 0:r.reduce((function(e,n){var t=n.fields,r=(void 0===t?{}:t).image,i=[];return r&&i.push(r),[].concat((0,l.Z)(e),i)}),[]));if(c){var p=null===o||void 0===o?void 0:o.floorPlans.reduce((function(e,n){var t=n.fields,r=[],i=(void 0===t?{}:t).list.map((function(e){var n=e.fields;return null===n||void 0===n?void 0:n.image}));return i&&r.push(i),[].concat((0,l.Z)(e),(0,l.Z)(r.flat()))}),[]);Array.isArray(p)&&p.forEach((function(t){var r;if(!(0,u.Gj)(t).fields.file)return e;e=d(d({},e),{},(0,i.Z)({},null===t||void 0===t||null===(r=t.sys)||void 0===r?void 0:r.id,++n))}))}if(Array.isArray(f)&&f.forEach((function(t){var r;if(!(0,u.Gj)(t).fields.file)return e;e=d(d({},e),{},(0,i.Z)({},null===t||void 0===t||null===(r=t.sys)||void 0===r?void 0:r.id,++n))})),s){var v,b=o.image;if(!b)return e;if(b)e=d(d({},e),{},(0,i.Z)({},null===b||void 0===b||null===(v=b.sys)||void 0===v?void 0:v.id,++n))}if(a&&!Array.isArray(a)){var g,j,y;if("plans"!==a.fields.key)return e;var P,O=a.fields.content.content.filter((function(e){return"embedded-entry-block"===e.nodeType})).filter((function(e){var n=e.data.target.fields;return null===n||void 0===n?void 0:n.image})),_=((null===O||void 0===O||null===(g=O[0])||void 0===g||null===(j=g.data)||void 0===j||null===(y=j.target)||void 0===y?void 0:y.fields)||{}).image,m=(0,u.Gj)(_).fields;if(!(void 0===m?{}:m).file)return e;if(_)e=d(d({},e),{},(0,i.Z)({},null===_||void 0===_||null===(P=_.sys)||void 0===P?void 0:P.id,++n))}return e}),{})}),[e]),t=(0,o.useCallback)((function(e){return"number"===typeof n[e]?n[e]:-1}),[n]);return t},p=t(6879),v=t(6058),b=t(7757),g=t.n(b),j=t(2137),y=t(4699),P=t(131),O=t(4979),_=t(5137),m=t(1041),h=t(1713),k=t(9533),D=t(8727),w=t.n(D),x=t(5049),E=function(e){return{}},Z={setReachEndPDP:x.mr},N=function(e){var n=e.getTranslations,t=(0,o.useState)(!1),i=t[0],s=t[1],a=(0,o.useCallback)((0,j.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(0,m.g)(1e3);case 3:s(!1);case 4:case"end":return e.stop()}}),e)}))),[]);return(0,o.useEffect)((function(){return function(){s(!1)}}),[]),(0,r.jsx)(h.Z,{page:"/destinations",children:(0,r.jsxs)("a",{className:(0,_.Ez)(w().linkWrapper,i&&w().isHovered),onMouseEnter:function(){return!i&&a()},children:[(0,r.jsx)("div",{className:w().arrowWrapper,children:(0,r.jsx)(k.Z,{className:w().arrow})}),n("goBack")]})})},A=function(e){return(0,s.$j)(E,Z)(e)}((function(e){var n=e.setReachEndPDP,t=(0,O.Z)("PDP"),i=(0,P.YD)(),s=(0,y.Z)(i,2),a=s[0],l=s[1],u=(0,o.useRef)();(0,o.useEffect)((function(){n(!!l)}),[l,n]);var c=(0,o.useCallback)((function(e){u.current=e,a(e)}),[a]);return(0,r.jsxs)("div",{className:w().container,ref:c,children:[(0,r.jsx)("span",{className:w().title,children:t("allDestinations")}),(0,r.jsx)(N,{getTranslations:t})]})})),B=t(1163);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var W=(0,a.default)((function(){return t.e(616).then(t.bind(t,3616))}),{loadableGenerated:{webpack:function(){return[3616]},modules:["destinations/[...slug].jsx -> _components/global/GlobalPopup"]}}),C=(0,a.default)((function(){return t.e(22).then(t.bind(t,6022))}),{loadableGenerated:{webpack:function(){return[6022]},modules:["destinations/[...slug].jsx -> _components/blocks/destinations/single/DestinationPageBlockNextUp"]}}),T=(0,a.default)((function(){return t.e(438).then(t.bind(t,1438))}),{loadableGenerated:{webpack:function(){return[1438]},modules:["destinations/[...slug].jsx -> _components/global/ExperiencePopUp"]}}),M=!0,R=function(e){var n,t=e.initialData,i=(0,B.useRouter)().asPath,a=t.fields,l=void 0===a?{}:a,u=l||{},c=u.title,d=u.layoutBlock,b=void 0===d?[]:d,g=u.subMenuColor,j=u.metaDescription,y=u.nextDestination,P=(null===t||void 0===t||null===(n=t.sys)||void 0===n?void 0:n.id)||"",O=f(l),_=(0,s.I0)(),m=(0,o.useMemo)((function(){return!!i&&i.includes("floorplans")}),[i]);return(0,o.useEffect)((function(){_((0,x.NW)(g))}),[g,_]),(0,o.useEffect)((function(){return function(){_((0,x.NW)())}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{title:c,metaDescription:j}),b.map((function(e,n){return(0,r.jsx)(v.Z,{block:e,totalSlides:b.length,index:n,getPopupIndex:O,uid:P},e.sys.id)})),(0,r.jsx)(W,{}),(0,r.jsx)(T,{page:t}),y?(0,r.jsx)(C,S({},y)):!m&&(0,r.jsx)(A,{})]})}},4081:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/destinations/[...slug]",function(){return t(8692)}])},8727:function(e){e.exports={container:"DestinationPageBlockAllDestinations_container__2p7a3",title:"DestinationPageBlockAllDestinations_title__3prW8",linkWrapper:"DestinationPageBlockAllDestinations_linkWrapper__1ipA4",isHovered:"DestinationPageBlockAllDestinations_isHovered__28nrx",arrow:"DestinationPageBlockAllDestinations_arrow__Gccpx",arrowWrapper:"DestinationPageBlockAllDestinations_arrowWrapper__3TSsb"}}},function(e){e.O(0,[737,418,313,671,805,278,774,888,179],(function(){return n=4081,e(e.s=n);var n}));var n=e.O();_N_E=n}]);